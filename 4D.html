<html>

<head>
  <title>4D -> 3D</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }




    .noselect {
      -webkit-touch-callout: none;
      /* iOS Safari */
      -webkit-user-select: none;
      /* Safari */
      -khtml-user-select: none;
      /* Konqueror HTML */
      -moz-user-select: none;
      /* Firefox */
      -ms-user-select: none;
      /* Internet Explorer/Edge */
      user-select: none;
      /* Non-prefixed version, currently
                                  supported by Chrome and Opera */
    }
  </style>

  <script src="https://ajax.googleapis.com/ajax/libs/threejs/r84/three.min.js"></script>


</head>

<body>






  <div class='noselect' onclick='moveZ(10)' style='position:absolute;width:5%;height:5%;left:95%;top:95%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>→</p>
  </div>

  <div class='noselect' onclick='moveZ(-10)' style='position:absolute;width:5%;height:5%;left:89%;top:95%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>←</p>
  </div>

  <p style='position:absolute;left:87%;top:93%;font-size: 3vh;color:black;font-family: montserrat,sans-serif;'>Z</p>

  <div class='noselect' onclick='moveY(10)' style='position:absolute;width:5%;height:5%;left:95%;top:89%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>→</p>
  </div>

  <div class='noselect' onclick='moveY(-10)' style='position:absolute;width:5%;height:5%;left:89%;top:89%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>←</p>
  </div>

  <p style='position:absolute;left:87%;top:87%;font-size: 3vh;color:black;font-family: montserrat,sans-serif;'>Y</p>

  <div class='noselect' onclick='moveX(10)' style='position:absolute;width:5%;height:5%;left:95%;top:83%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>→</p>
  </div>

  <div class='noselect' onclick='moveX(-10)' style='position:absolute;width:5%;height:5%;left:89%;top:83%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>←</p>
  </div>

  <p style='position:absolute;left:87%;top:81%;font-size: 3vh;color:black;font-family: montserrat,sans-serif;'>X</p>









  <div class='noselect' onclick='rotateYZ(15)' style='position:absolute;width:5%;height:5%;left:95%;top:75%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>↻</p>
  </div>

  <div class='noselect' onclick='rotateYZ(-15)' style='position:absolute;width:5%;height:5%;left:89%;top:75%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>↺</p>
  </div>

  <p style='position:absolute;left:86%;top:73%;font-size: 3vh;color:black;font-family: montserrat,sans-serif;'>YZ</p>

  <div class='noselect' onclick='rotateXZ(15)' style='position:absolute;width:5%;height:5%;left:95%;top:69%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>↻</p>
  </div>

  <div class='noselect' onclick='rotateXZ(-15)' style='position:absolute;width:5%;height:5%;left:89%;top:69%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>↺</p>
  </div>

  <p style='position:absolute;left:86%;top:67%;font-size: 3vh;color:black;font-family: montserrat,sans-serif;'>XZ</p>

  <div class='noselect' onclick='rotateXY(15)' style='position:absolute;width:5%;height:5%;left:95%;top:63%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>↻</p>
  </div>

  <div class='noselect' onclick='rotateXY(-15)' style='position:absolute;width:5%;height:5%;left:89%;top:63%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>↺</p>
  </div>

  <p style='position:absolute;left:86%;top:61%;font-size: 3vh;color:black;font-family: montserrat,sans-serif;'>XY</p>









  <div class='noselect' onclick='moveW(10)' style='position:absolute;width:5%;height:5%;left:11%;top:63%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>→</p>
  </div>

  <div class='noselect' onclick='moveW(-10)' style='position:absolute;width:5%;height:5%;left:5%;top:63%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>←</p>
  </div>

  <p style='position:absolute;left:17%;top:61%;font-size: 3vh;color:black;font-family: montserrat,sans-serif;'>W</p>

  <div class='noselect' onclick='rotateWZ(15)' style='position:absolute;width:5%;height:5%;left:11%;top:81%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>↻</p>
  </div>

  <div class='noselect' onclick='rotateWZ(-15)' style='position:absolute;width:5%;height:5%;left:5%;top:81%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>↺</p>
  </div>

  <p style='position:absolute;left:17%;top:67%;font-size: 3vh;color:black;font-family: montserrat,sans-serif;'>WZ</p>

  <div class='noselect' onclick='rotateWY(15)' style='position:absolute;width:5%;height:5%;left:11%;top:75%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>↻</p>
  </div>

  <div class='noselect' onclick='rotateWY(-15)' style='position:absolute;width:5%;height:5%;left:5%;top:75%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>↺</p>
  </div>

  <p style='position:absolute;left:17%;top:73%;font-size: 3vh;color:black;font-family: montserrat,sans-serif;'>WY</p>

  <div class='noselect' onclick='rotateWX(15)' style='position:absolute;width:5%;height:5%;left:11%;top:69%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>↻</p>
  </div>

  <div class='noselect' onclick='rotateWX(-15)' style='position:absolute;width:5%;height:5%;left:5%;top:69%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>↺</p>
  </div>

  <p style='position:absolute;left:17%;top:79%;font-size: 3vh;color:black;font-family: montserrat,sans-serif;'>WX</p>



  <div class='noselect' onclick='reset()' style='position:absolute;width:10%;height:5%;left:90%;top:0%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>Reset</p>
  </div>

  <div class='noselect' onclick='rotateall()' style='position:absolute;width:25%;height:5%;left:65%;top:0%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>Rotate All Dimensions</p>
  </div>

  <div class='noselect' onclick='rotatecam()' style='position:absolute;width:13%;height:5%;left:56%;top:0%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:5%;top:-50%;'>Rotate Camera</p>
  </div>

  <div class='noselect' onclick='window.open("https://viktorhura.github.io/","_self")' style='position:absolute;width:9%;height:5%;left:0%;top:0%;background-color:white;font-size: 3vh;color:black;font-family: montserrat,sans-serif;overflow:hidden;text-align:center;cursor:pointer;'>
    <p style='position:absolute;left:30%;top:-50%;'>Back</p>
  </div>







  <script>
    var scene = new THREE.Scene();
    scene.background = new THREE.Color('skyblue');

    var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

    var renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);


    camera.position.z = 110;
    camera.position.x = 15;
    camera.position.y = 30;
    camera.lookAt(new THREE.Vector3(0, 0, 0));

    window.addEventListener('resize', onWindowResize, false);

    function onWindowResize() {

      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();

      renderer.setSize(window.innerWidth, window.innerHeight);

    }

    var projectscale = 0.5;

    //////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////MATH////////////////////////////////////////////////
    //////////////////////////////////////////////////////////////////////////////////

    var pointarray = [{
        'x': -25, ////0
        'y': 25,
        'z': 25,
        'w': 25
      }, {
        'x': 25, ////1
        'y': 25,
        'z': 25,
        'w': 25
      },
      {
        'x': -25, ////2
        'y': -25,
        'z': 25,
        'w': 25
      }, {
        'x': 25, ////3
        'y': -25,
        'z': 25,
        'w': 25
      },
      {
        'x': -25, ////4
        'y': 25,
        'z': -25,
        'w': 25
      }, {
        'x': 25, ////5
        'y': 25,
        'z': -25,
        'w': 25
      },
      {
        'x': -25, ////6
        'y': -25,
        'z': -25,
        'w': 25
      }, {
        'x': 25, ////7
        'y': -25,
        'z': -25,
        'w': 25
      }, {
        'x': -25, ////8
        'y': 25,
        'z': 25,
        'w': -25
      }, {
        'x': 25, ////9
        'y': 25,
        'z': 25,
        'w': -25
      },
      {
        'x': -25, ////10
        'y': -25,
        'z': 25,
        'w': -25
      }, {
        'x': 25, ////11
        'y': -25,
        'z': 25,
        'w': -25
      },
      {
        'x': -25, ////12
        'y': 25,
        'z': -25,
        'w': -25
      }, {
        'x': 25, ////13
        'y': 25,
        'z': -25,
        'w': -25
      },
      {
        'x': -25, ////14
        'y': -25,
        'z': -25,
        'w': -25
      }, {
        'x': 25, ////15
        'y': -25,
        'z': -25,
        'w': -25
      }
    ];


    var ribarray = [{
      'a': 0,
      'b': 1
    }, {
      'a': 2,
      'b': 3
    }, {
      'a': 0,
      'b': 2
    }, {
      'a': 1,
      'b': 3
    }, {
      'a': 4,
      'b': 5
    }, {
      'a': 6,
      'b': 7
    }, {
      'a': 4,
      'b': 6
    }, {
      'a': 5,
      'b': 7
    }, {
      'a': 0,
      'b': 4
    }, {
      'a': 1,
      'b': 5
    }, {
      'a': 2,
      'b': 6
    }, {
      'a': 3,
      'b': 7
    }, { /////////////////
      'a': 8,
      'b': 9
    }, {
      'a': 10,
      'b': 11
    }, {
      'a': 8,
      'b': 10
    }, {
      'a': 9,
      'b': 11
    }, {
      'a': 12,
      'b': 13
    }, {
      'a': 14,
      'b': 15
    }, {
      'a': 12,
      'b': 14
    }, {
      'a': 13,
      'b': 15
    }, {
      'a': 8,
      'b': 12
    }, {
      'a': 9,
      'b': 13
    }, {
      'a': 10,
      'b': 14
    }, {
      'a': 11,
      'b': 15
    }, {
      'a': 0,
      'b': 8
    }, {
      'a': 1,
      'b': 9
    }, {
      'a': 2,
      'b': 10
    }, {
      'a': 3,
      'b': 11
    }, {
      'a': 4,
      'b': 12
    }, {
      'a': 5,
      'b': 13
    }, {
      'a': 6,
      'b': 14
    }, {
      'a': 7,
      'b': 15
    }];

    var origin = {
      'x': 0,
      'y': 0,
      'z': 0,
      'w': 0
    };


    ///Move

    function moveX(amount) {

      for (i = 0; i < pointarray.length; i++) {
        var point = pointarray[i];
        point.x = point.x + amount;


      }

      origin.x = origin.x + amount;

    }

    function moveY(amount) {

      for (i = 0; i < pointarray.length; i++) {
        var point = pointarray[i];
        point.y = point.y + amount;


      }

      origin.y = origin.y + amount;

    }

    function moveZ(amount) {

      for (i = 0; i < pointarray.length; i++) {
        var point = pointarray[i];
        point.z = point.z + amount;


      }

      origin.z = origin.z + amount;

    }

    function moveW(amount) {

      for (i = 0; i < pointarray.length; i++) {
        var point = pointarray[i];
        point.w = point.w + amount;


      }

      origin.w = origin.w + amount;

    }


    ///Rotation




    function rotateXY(degrees) {
      var angle = degrees * Math.PI / 180;

      for (i = 0; i < pointarray.length; i++) {
        var point = pointarray[i];

        var new_x_point = Math.cos(angle) * (point.x - origin.x) - Math.sin(angle) * (point.y - origin.y) + origin.x;
        var new_y_point = Math.sin(angle) * (point.x - origin.x) + Math.cos(angle) * (point.y - origin.y) + origin.y;

        point.x = new_x_point;
        point.y = new_y_point;
      }


    }

    function rotateXZ(degrees) {
      var angle = degrees * Math.PI / 180;

      for (i = 0; i < pointarray.length; i++) {
        var point = pointarray[i];

        var new_x_point = Math.cos(angle) * (point.x - origin.x) - Math.sin(angle) * (point.z - origin.z) + origin.x;
        var new_z_point = Math.sin(angle) * (point.x - origin.x) + Math.cos(angle) * (point.z - origin.z) + origin.z;

        point.x = new_x_point;
        point.z = new_z_point;
      }


    }

    function rotateYZ(degrees) {
      var angle = degrees * Math.PI / 180;

      for (i = 0; i < pointarray.length; i++) {
        var point = pointarray[i];

        var new_y_point = Math.cos(angle) * (point.y - origin.y) - Math.sin(angle) * (point.z - origin.z) + origin.y;
        var new_z_point = Math.sin(angle) * (point.y - origin.y) + Math.cos(angle) * (point.z - origin.z) + origin.z;

        point.y = new_y_point;
        point.z = new_z_point;
      }


    }




    function rotateWX(degrees) {
      var angle = degrees * Math.PI / 180;

      for (i = 0; i < pointarray.length; i++) {
        var point = pointarray[i];

        var new_w_point = Math.cos(angle) * (point.w - origin.w) - Math.sin(angle) * (point.x - origin.x) + origin.w;
        var new_x_point = Math.sin(angle) * (point.w - origin.w) + Math.cos(angle) * (point.x - origin.x) + origin.x;

        point.w = new_w_point;
        point.x = new_x_point;
      }


    }

    function rotateWY(degrees) {
      var angle = degrees * Math.PI / 180;

      for (i = 0; i < pointarray.length; i++) {
        var point = pointarray[i];

        var new_w_point = Math.cos(angle) * (point.w - origin.w) - Math.sin(angle) * (point.y - origin.y) + origin.w;
        var new_y_point = Math.sin(angle) * (point.w - origin.w) + Math.cos(angle) * (point.y - origin.y) + origin.y;

        point.w = new_w_point;
        point.y = new_y_point;
      }


    }

    function rotateWZ(degrees) {
      var angle = degrees * Math.PI / 180;

      for (i = 0; i < pointarray.length; i++) {
        var point = pointarray[i];

        var new_w_point = Math.cos(angle) * (point.w - origin.w) - Math.sin(angle) * (point.z - origin.z) + origin.w;
        var new_z_point = Math.sin(angle) * (point.w - origin.w) + Math.cos(angle) * (point.z - origin.z) + origin.z;

        point.w = new_w_point;
        point.z = new_z_point;
      }


    }



    var threedpointarray = [{
        'x': -25, ////0
        'y': 25,
        'z': 25,
        'w': 25
      }, {
        'x': 25, ////1
        'y': 25,
        'z': 25,
        'w': 25
      },
      {
        'x': -25, ////2
        'y': -25,
        'z': 25,
        'w': 25
      }, {
        'x': 25, ////3
        'y': -25,
        'z': 25,
        'w': 25
      },
      {
        'x': -25, ////4
        'y': 25,
        'z': -25,
        'w': 25
      }, {
        'x': 25, ////5
        'y': 25,
        'z': -25,
        'w': 25
      },
      {
        'x': -25, ////6
        'y': -25,
        'z': -25,
        'w': 25
      }, {
        'x': 25, ////7
        'y': -25,
        'z': -25,
        'w': 25
      }, {
        'x': -25, ////8
        'y': 25,
        'z': 25,
        'w': -25
      }, {
        'x': 25, ////9
        'y': 25,
        'z': 25,
        'w': -25
      },
      {
        'x': -25, ////10
        'y': -25,
        'z': 25,
        'w': -25
      }, {
        'x': 25, ////11
        'y': -25,
        'z': 25,
        'w': -25
      },
      {
        'x': -25, ////12
        'y': 25,
        'z': -25,
        'w': -25
      }, {
        'x': 25, ////13
        'y': 25,
        'z': -25,
        'w': -25
      },
      {
        'x': -25, ////14
        'y': -25,
        'z': -25,
        'w': -25
      }, {
        'x': 25, ////15
        'y': -25,
        'z': -25,
        'w': -25
      }
    ];

    function project4Dto3D() {

      for (i = 0; i < pointarray.length; i++) {
        threedpointarray[i].x = pointarray[i].x + projectscale * pointarray[i].w;
        threedpointarray[i].y = pointarray[i].y + projectscale * pointarray[i].w;
        threedpointarray[i].z = pointarray[i].y + projectscale * pointarray[i].w;
      }


    }






    //////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////VISUAL HELP////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////



    var spheres = [];
    var lines = [];

    for (i = 0; i < pointarray.length; i++) {

      var geometry = new THREE.SphereGeometry(1, 16, 16);
      var material = new THREE.MeshBasicMaterial({
        color: 0xffff00
      });
      var sphere = new THREE.Mesh(geometry, material);
      scene.add(sphere);
      spheres.push(sphere);

    }

    for (i = 0; i < ribarray.length; i++) {

      var material = new THREE.LineBasicMaterial({
        color: 0x0000ff
      });
      var geometry = new THREE.Geometry();
      geometry.vertices.push(new THREE.Vector3(pointarray[ribarray[i].a].x, pointarray[ribarray[i].a].y, pointarray[ribarray[i].a].z));
      geometry.vertices.push(new THREE.Vector3(pointarray[ribarray[i].b].x, pointarray[ribarray[i].b].y, pointarray[ribarray[i].b].z));
      var line = new THREE.Line(geometry, material);
      scene.add(line);
      lines.push(line);


    }


    var originalpoints = JSON.stringify(pointarray.slice());




    function reset() {

      pointarray = [];

      pointarray = JSON.parse(originalpoints);
      origin.x = 0;
      origin.y = 0;
      origin.z = 0;

      camera.position.z = 110;
      camera.position.x = 15;
      camera.position.y = 30;
      camera.lookAt(new THREE.Vector3(0, 0, 0));

    }

    var rotall = false;
    var rotcam = false;

    function rotateall() {

      if (rotall == false) {
        rotall = true;
      } else {
        rotall = false;
      }

    }

    function rotatecam() {

      if (rotcam == false) {
        rotcam = true;
      } else {
        rotcam = false;
      }

    }


    window.addEventListener('wheel', function(e) {
      if (e.deltaY < 0) {
        camera.position.z = camera.position.z + 5;

      }
      if (e.deltaY > 0) {
        camera.position.z = camera.position.z - 5;

      }
    });

    function distance(v1, v2) {
      var dx = v1.x - v2.x;
      var dy = v1.y - v2.y;
      var dz = v1.z - v2.z;

      return Math.sqrt(dx * dx + dy * dy + dz * dz);
    }



    var anglec = 0.5;

    var animate = function() {
      requestAnimationFrame(animate);
      project4Dto3D()

      for (i = 0; i < spheres.length; i++) {

        spheres[i].position.x = threedpointarray[i].x;
        spheres[i].position.y = threedpointarray[i].y;
        spheres[i].position.z = threedpointarray[i].z;

      }

      for (i = 0; i < lines.length; i++) {


        lines[i].geometry.vertices = [];

        lines[i].geometry.vertices.push(new THREE.Vector3(threedpointarray[ribarray[i].a].x, threedpointarray[ribarray[i].a].y, threedpointarray[ribarray[i].a].z));
        lines[i].geometry.vertices.push(new THREE.Vector3(threedpointarray[ribarray[i].b].x, threedpointarray[ribarray[i].b].y, threedpointarray[ribarray[i].b].z));
        lines[i].geometry.verticesNeedUpdate = true;


      }

      if (rotall == true) {

        rotateXY(0.35);
        rotateXZ(0.35);
        rotateYZ(0.35);
        rotateWX(0.35);
        rotateWY(0.35);
        rotateWZ(0.35);

      }

      if (rotcam == true) {



        camera.position.x = origin.x + 100 * Math.cos(anglec);
        camera.position.z = origin.z + 100 * Math.sin(anglec);
        camera.lookAt(new THREE.Vector3(origin.x, origin.y, origin.z));

        anglec = anglec + 0.01;


      }


      renderer.render(scene, camera);




    };



    animate();
  </script>




</body>

</html>